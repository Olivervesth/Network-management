from flask import Flask
import requests
#from main import set_vlan
app = Flask(__name__)
tempconsolereturn = 'worksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworksworks'
def update_api_log(string):
    url = f"http://127.0.0.1:5000/{string.replace('/', '')}" # the other api for logging terminal

    payload = dict(key1='value1', key2='value2')

    res = requests.get(url, data=payload)

@app.route("/<string:number>/<string:name>/<string:ip>/<string:mask>")
def setup_vlan(number, name, ip, mask):
    update_api_log('return from terminal') #saving the console return in the log
    return tempconsolereturn # for testing
      #return set_vlan(number,name, ip, mask);#Create new vlan and return terminal info for real equipment

if __name__ == "__main__":
  app.run(host="127.0.0.2")#change host ip here
